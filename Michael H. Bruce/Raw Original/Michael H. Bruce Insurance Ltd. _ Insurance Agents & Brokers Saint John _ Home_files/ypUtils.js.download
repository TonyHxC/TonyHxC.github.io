"use strict";var $YPCA=jQuery.noConflict(),YP=window.YP||{};YP.Utils=function(e,t){var n={stickyElementTop:null,stickyElementTopOffset:null,publicFunctions:{convertDataToJSON:function(e){var t;try{t=JSON.parse(e.html())}catch(n){console.log(n.toString())}return t},isUndefined:function(e){return"undefined"==typeof e},isDefined:function(e){return"undefined"!=typeof e},isDevicePhone:function(){return e("body").hasClass("jsDevicePhone")},isDeviceDesktop:function(){return e("body").hasClass("jsDeviceDesktop")},isDeviceTablet:function(){return e("body").hasClass("jsDeviceTablet")},isDefinedAndNotEmpty:function(e){return YP.Utils.isDefined(e)&&0!==e.length},isPageScrollable:function(){return e(document).height()>e(t).height()},queryParametersToJSON:function(e){var t,n={},i=!1,s=e.slice(e.indexOf("?")+1).split("&");if(-1!==e.indexOf("?")){for(var r=0;r<s.length;r++)t=s[r].split("="),n[t[0]]=decodeURIComponent(t[1]||"");i=JSON.parse(JSON.stringify(n))}return i},urlParamHash:function(e,n){var i,s=n||t.location.href;return i="#"===e?new RegExp("[\\#]([^?#]*)").exec(s):new RegExp("[\\?&]"+e+"=([^&#]*)").exec(s),null!==i?decodeURIComponent(i[1]):0},isEnterKeyPressed:function(e){return YP.Utils.isKeyPressed(e,13)},isTabKeyPressed:function(e){return YP.Utils.isKeyPressed(e,9)},isUpOrDownArrowKeyPressed:function(e){return YP.Utils.isKeyPressed(e,38)||YP.Utils.isKeyPressed(e,40)},isShiftKeyPressed:function(e){return YP.Utils.isKeyPressed(e,16)},isKeyPressed:function(e,t){var n=e.which||e.keyCode;return n===t},getJson:function(t){return 0!==t.length?JSON.parse(e(t).html()):(console.error("Element Json does not exist"),null)},resizeBufferTimers:{},resizeBuffer:function(e,t,n){YP.Utils.resizeBufferTimers[n]&&clearTimeout(YP.Utils.resizeBufferTimers[n]),YP.Utils.resizeBufferTimers[n]=setTimeout(function(){t()},e)},DOMReflow:function(t,n,i,s){var r=e(t),o=e(n);r.removeClass(s).addClass(i),o.append(r)},mediaQueriesSupport:function(){return"undefined"!=typeof t.matchMedia||"undefined"!=typeof t.msMatchMedia},stickyDynamic:function(){var t=e(".jsParentHeight").prevAll(".jsDynamicBox");if(0!==t.length)var i=0,s=10,r=0,o=setInterval(function(){s>r?(n.stickyElementTopOffset=n.stickyElementTop+t.height(),i===t.height()&&r++,i=t.height()):clearInterval(o)},500)},stickyElement:function(i,s,r){var o=YP.Utils.isDefined(s)&&s.length>0?s:e(".jsElemSticky"),a=e(".jsElemStickyStatic"),l=e(".cobrandHeader").length>0;YP.Utils.isDeviceDesktop()&&(n.stickyElementTop=YP.Utils.isDefined(i)?i:o.offset().top,n.stickyElementTopOffset=n.stickyElementTop,YP.Utils.stickyDynamic(),YP.Utils.setParentHeight(o),e(t).scroll(function(){var i=e(t).scrollTop();if(e(t).width()>1024){var s=l?0:e(".ypg-header__wrapper").height()+e("#permissionOverlay").height(),c=YP.Utils.isDefined(r)?r:e("#ypgFooter").offset().top,f=c-s-o.height();if(i>n.stickyElementTopOffset?(o.addClass("fixed").css("top",s),a.css("padding-top",o.outerHeight())):(o.removeClass("fixed").removeAttr("style"),a.removeAttr("style")),YP.Utils.isDefined(r)&&i>f){var u=f-i+s;o.css({top:u})}}else o.removeClass("fixed").removeAttr("style"),a.removeAttr("style")}))},setParentHeight:function(n){var i=n.height(),s=n.parent();s.hasClass("jsParentHeight")&&(s.height(i),e(t).resize(function(){s.height(i)}))},scrollDocumentTo:function(){e(".jsScrollDocumentTo").click(function(){var t=e(this.hash);return t.length&&location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname?(e("html, body").animate({scrollTop:t.offset().top},500),!1):void 0})}(),enableFakeDropdown:function(){e(".jsDuplicateFieldRow").click(function(){var t=e(this).parents(".jsParentUnlimitedRow"),n=t.find(".jsUnlimitedFields").last(),i=n.data("id");n.clone().attr("data-id",i+1).insertAfter(n);var s=n.find("select").data("name").replace("{{id}}",i+1),r=n.find("input").data("name").replace("{{id}}",i+1);t.find(".jsUnlimitedFields").last().find("select").attr("name",s),t.find(".jsUnlimitedFields").last().find("input").attr("name",r)})},createExpandCollapseText:function(t,n,i){var s=e.trim(t),r='&nbsp;<a href="#" class="jsToggleCollapsedAction show-more-action open" data-more=\''+i.showmore+"' data-less='"+i.showless+'\'><span class="jsToggleCollapsedActionLabel show-more-action__label">'+i.showmore+"</span></a>",o=s.split(" ").slice(0,n).join(" ");return o+='<span class="jsExpandCollapseHiddenText extra-text extra-text__hidden"> '+s.split(" ").slice(n).join(" ")+"</span>"+r},getLabelScript:function(e){return e.length>0?JSON.parse(e.html()):null},getConfigJson:function(e){var t=null;if(0!==e.length){var n=e.html();t=JSON.parse(n)}return t},scrollPage:function(t){var n="fixed"===e(".jsHeaderWrapper .ypg-header__wrapper").css("position")?70:0;return 0!==t.length?(e("html,body").animate({scrollTop:t.offset().top-n},500),!1):void 0},setAnalyticsModalClose:function(e){},getSiteLanguage:function(){var t=e("html").attr("lang")||e("html").attr("xml:lang");return YP.Utils.isDefined(t)?t.substr(0,2):void console.error("The Html tag does not contain attribute lang")},isEnglishSite:function(){return"en"===YP.Utils.getSiteLanguage()},isFrenchSite:function(){return"fr"===YP.Utils.getSiteLanguage()},getHandlebarHtml:function(t,n){if(0!==e(t).length){var i=e(t).html(),s=Handlebars.compile(i);return s(n)}console.error("missing handlebarHtml "+t)},getBookingParam:function(){var e=YP.Utils.queryParametersToJSON(t.location.search);return YP.Utils.isDefined(e.guests)||YP.Utils.isDefined(e.date)||YP.Utils.isDefined(e.hr)||YP.Utils.isDefined(e.min)||(e=!1),e},getMapProvider:function(){var t=YP.Utils.getJson(e(".jsMapsApiConfig"));return t.mapProvider},changeAnalyticValue:function(t,n,i,s){t.each(function(){var t=e(this).attr(n),r=JSON.parse(t);r[i]=s,e(this).attr(n,JSON.stringify(r))})},doubleEncoding:function(t){return encodeURIComponent(e.trim(t).replace(/\//g,"%2F").replace(/\\/g,"%5C").replace(/\?/g,"%3F").replace(/\;/,"%3B"))},mergeArrayOfObject:function(e,t,n){for(var i=e,s=0;s<e.length;s++){for(var r=-1,o=0;-1===r&&o<t.length;o++)if(e[s][n]===t[o][n]){for(var a in t[o])i[s][a]=t[o][a];r=o}-1!==r&&t.splice(r,1)}return i.concat(t)},setValueInCookiePref:function(t,n){var i=YP.Utils.getConfigJson(e("#jsGenConfig")).cookieDomain,s="yp.prefs",r=JSON.parse(e.cookie(s));r[t]=n,e.cookie(s,JSON.stringify(r),{expires:365,path:"/",domain:i})},dynamicAnalytics:function(e){},setDynamicElements:function(e){}}};return n.publicFunctions}($YPCA,window);